<!DOCTYPE html>
<html>
  <head>
    <!-- Google Automatic Advertising -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>

<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">

<meta name="google-site-verification" content="4cR7WuQWEtkbu8ThfxGkT1vACiVi5Q_8ykfkRudOnTU" />

<link rel="shortcut icon" href="/images/logo.png">
<link rel="stylesheet" type="text/css" href="/css/common.css"><script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>
<script>
  $(function(){
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
    
    $(".to-top").click(function() {
      $('body, html').animate({scrollTop: 0}, 300, 'linear');;
    });
  });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HVBGQBWKJ2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HVBGQBWKJ2');
</script>

<title>Representation of multidimensional data in PDL - Perl ABC - Perl Installation, Perl Tutorial, Many Examples</title>
<meta name="description" content="So far, we have only dealt with one-dimensional data, but I would like to explain how to represent  multidimensional data  in PDL.">
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@perlzemi" />
<meta name="twitter:title" content="Representation of multidimensional data in PDL - Perl ABC - Perl Installation, Perl Tutorial, Many Examples" />
<meta name="twitter:description" content="So far, we have only dealt with one-dimensional data, but I would like to explain how to represent  multidimensional data  in PDL." />
<meta name="twitter:image" content="https://en.perlzemi.com//images/twitter_card_large_kaeru.png" />


  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">
  <h1><a href="/"><img src="/images/logo.png">Perl ABC</a></h1>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    
  </div>
  <div class="middle">
    <ol class = "bread" itemscope itemtype = "http://schema.org/BreadcrumbList">  <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">    <a itemprop="item" href="/">        <span itemprop = "name">Perl </span></a>
    <meta itemprop = "position" content = "1" />
  </li>
  &#8250;
  <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">    <a itemprop="item" href="/blog/20091116124667.html">        <span itemprop = "name">Module </span></a>
    <meta itemprop = "position" content = "2" />
  </li>
  &#8250;
  <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">        <span itemprop = "name">PDL </span>
    <meta itemprop = "position" content = "3" />
  </li>
</ol>
<h2><a href="/blog/20131029138301.html">Representation of multidimensional data in PDL</a></h2>
<p>
  So far, we have only dealt with one-dimensional data, but I would like to explain how to represent <strong> multidimensional data </strong> in PDL.
</p>
<div style="width:calc(100% - 30px);margin:10px auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- 最初の段落下 - ディスプレイ 横長 レスポンシブ -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<h3>Representation of multidimensional data</h3>
<p>
  To represent multidimensional data, use the pdl function as follows:
</p>
<pre>
use PDL;

my $data = pdl [
  [one two Three],
  [4, 5, 6],
  [7, 8, 9],
  [10, 11, 12]
];;
</pre>
<p>
  First, let's learn the concepts called <strong> dimension </strong> and <strong> rank </strong>. It is easier to understand if you understand it visually, so I will show it.
</p>
<pre>
1D
              Rank 1 Rank 2 Rank 3
2D rank 1 [1, 2, 3],
      Rank 2 [4, 5, 6],
      Rank 3 [7, 8, 9],
      Rank 4 [10, 11, 12]
</pre>
<p>
  Think of it as the one-dimensional data you've come up with.
</p>
<pre>
1D
Rank 1 Rank 2 Rank 3
[one two Three],
</pre>
<h4>Get and set elements</h4>
<p>
  Learn how to get and set elements of multidimensional data. Use nice slice notation to get and set elements. Specify in the order of 1D rank and 2D rank, and the subscripts start from 0.
</p>
<pre>
use PDL;
use PDL::NiceSlice;

# data
my $data = pdl [
  [one two Three],
  [4, 5, 6],
  [7, 8, 9],
  [10, 11, 12]
];;

# Get element as PDL variable (1D 2 rank-2D 3 rank)
my $data_1_2 = $data (1, 2);

# Get the element value itself
my $data_1_2_raw = $data-&gt;at(1, 2);

# Set element.
$data (1, 2). = 20;
</pre>
<h4>Get multiple elements, set multiple elements</h4>
<p>
  You can also get and set multiple elements for a PDL variable. In the following example, the 2nd to 3rd ranks of the 1st dimension and the 3rd rank of the 2nd dimension are got.
</p>
<pre>
# Acquisition of multiple elements (1D 2-3 ranks, 2D 3 ranks)
my $data_sliced1 = $data (1: 2, 2);
</pre>
<p>
  To set multiple elements:
</p>
<pre>
# Setting of multiple elements (1D 2-3 ranks, 2D 3 ranks)
$data (1: 2, 2). = pdl [21, 22];
</pre>
<p>
  Of course, it is possible to acquire not only the first dimension but also multiple elements in the second dimension.
</p>
<pre>
# Get multiple elements (1D 3 ranks, 2D 1-2 ranks)
my $data_sliced2 = $data (2, 0: 1);
</pre>
<p>
  To set multiple elements in the second dimension:
</p>
<pre>
# Setting of multiple elements (1D 3 ranks, 2D 1-2 ranks)
$data (2, 0: 1). = pdl [
  [30],
  [31]
];;
</pre>
<p>
  You can also acquire and set multiple ranks in multiple dimensions in the same way.
</p>
<pre>
# Get multiple elements (1D 2-3 ranks, 2D 1-2 ranks)
my $data_sliced3 = $data (1: 2, 0: 1);

# Setting of multiple elements (1D 2-3 ranks, 2D 1-2 ranks)
$data (1: 2, 0: 1). = pdl [
  [40, 41],
  [42, 43]
];;
</pre>
<h4>Example</h4>
<p>
  This is an example that can be executed.
</p>
<pre>
use strict;
use warnings;

use PDL;
use PDL::NiceSlice;

# data
my $data = pdl [
  [one two Three],
  [4, 5, 6],
  [7, 8, 9],
  [10, 11, 12]
];;

# Get element as PDL variable (1D 2 rank, 2D 3 rank)
my $data_1_2 = $data (1, 2);

# Get the element value itself
my $data_1_2_raw = $data-&gt;at(1, 2);

print "$data_1_2\n";
print "$data_1_2_raw\n";

# Set element.
$data (1, 2). = 20;

print "$data\n";

# Get multiple elements (1D 2 to 3 ranks, 2D 2 ranks)
my $data_sliced1 = $data (1: 2, 1);

print "$data_sliced1\n";

# Setting of multiple elements (1D 2-3 ranks, 2D 3 ranks)
$data (1: 2, 2). = pdl [21, 22];

print "$data\n";

# Get multiple elements (1D 3 ranks, 2D 1-2 ranks)
my $data_sliced2 = $data (2, 0: 1);

print "$data_sliced2\n";

# Setting of multiple elements (1D 3 rank, 2D 1-2 rank)
$data (2, 0: 1). = pdl [
  [30],
  [31]
];;

print "$data\n";

# Get multiple elements (1D 2-3 ranks, 2D 1-2 ranks)
my $data_sliced3 = $data (1: 2, 0: 1);

print "$data_sliced3\n";

# Setting of multiple elements (1D 2-3 ranks, 2D 1-2 ranks)
$data (1: 2, 0: 1). = pdl [
  [40, 41],
  [42, 43]
];;

print "$data";
</pre>
<h3>Data initialization</h3>
<p>
  PDL has various data initialization functions. I will show you how to initialize the data.
</p>
<h4>Initialize with 0</h4>
<p>
  Use the zeros method to specify a multidimensional rank number and initialize it with 0. zeros is defined in PDL::Core.
</p>
<pre>
use PDL;

# Initialize with 0 (1D has 2 ranks, 2D has 3 ranks)
my $data_zeros = pdl-&gt;sequence(2, 3);
</pre>
<h4>Initialize with 1</h4>
<p>
  Use the ones method to specify the number of ranks in multiple dimensions and initialize with 1. ones is defined in PDL::Core.
</p>
<pre>
# Initialize with 1 (1D has 2 ranks, 2D has 3 ranks)
my $data_ones = pdl-&gt;ones(2, 3);
print "$data_ones\n";
</pre>
<h4>Initialize with null</h4>
<p>
  The PDL defines a value of null. Use the null method to initialize with null. null is defined in PDL::Core.
</p>
<pre>
# Initialize with null
my $data_null = pdl-&gt;null;
</pre>
<h4>Initialize from 1 to n</h4>
<p>
  Use the <strong> sequence </strong> method to <strong> initialize with a value between 0 and n-1 </strong>. sequence is defined in PDL::Basic.
</p>
<pre>
# Initialize with 0-19
my $data_seq = pdl-&gt;sequence(20);
</pre>
<p>
  You can also specify multiple dimensions.
</p>
<pre>
# Initialize with 0-14 (1D 3 ranks, 2D 5 ranks)
my $data_seq2 = pdl-&gt;sequence(3, 5);
</pre>
<h4>Example</h4>
<p>
  This is an example that can be executed.
</p>
<pre>
use PDL;

# Initialize with 0 (1D has 2 ranks, 2D has 3 ranks)
my $data_zeros = pdl-&gt;zeros(2, 3);
print "$data_zeros\n";

# Initialize with 1 (1D has 2 ranks, 2D has 3 ranks)
my $data_ones = pdl-&gt;ones(2, 3);
print "$data_ones\n";

# Initialize with null
my $data_null = pdl-&gt;null;
print "$data_null\n";

# Initialize with 0-19
my $data_seq = pdl-&gt;sequence(20);
print "$data_seq\n";

# Initialize with 0-14 (1D 3 ranks, 2D 5 ranks)
my $data_seq2 = pdl-&gt;sequence(3, 5);
print "$data_seq2\n";
</pre>
<h3>Calculate multiple elements at once</h3>
<p>
  PDL allows you to calculate multiple elements at once. See the data below.
</p>
<pre>
use PDL;

my $data = pdl [
  [one two Three],
  [4, 5, 6],
  [7, 8, 9],
  [10, 11, 12]
];;
</pre>
<h4>Sum calculation to reduce one - dimensional rank</h4>
<p>
  First, let's perform a sum operation that reduces the one-dimensional rank. The above data is an image that looks like the following.
</p>
<pre>
[6]
[15]
[twenty four]
[33]
</pre>
<p>
  Use the <strong> sumover </strong> method to find the sum. someover is implemented in PDL::UfuncI am.
</p>
<pre>
# Sum calculation to reduce one-dimensional rank
my $data_sumover1 = $data-&gt;sumover;
</pre>
<p>
  Use the sumover method when the contained value is an integer type. For floating point, use dsomeover instead.
</p>
<p>
  If you perform an operation to reduce the rank, the dimension will be reduced by one and the data will be as follows.
</p>
<pre>
[6, 15, 24, 33]
</pre>
<h4>Sum calculation to reduce 2D rank</h4>
<p>
  In the above example, the sum operation is performed to reduce the one-dimensional rank. Next, let's perform a sum operation that reduces the two-dimensional rank. To do this, use the <strong> xchg </strong> method to exchange 1D and 2D positions, and then use the someover function.
</p>
<pre>
# Sum calculation to reduce 2D rank
my $data_sumover2 = $data-&gt;xchg(0, 1)-&gt;sumover;
</pre>
<p>
  You can get the following data.
</p>
<pre>
[22 26 30]
</pre>
<p>
  In addition to xchg, there are <strong> mv </strong> and <strong> reorder </strong> methods for moving the position of the dimension, so let's check them.
</p>
<h4>Methods that perform other operations that reduce dimensions</h4>
<p>
  In addition to sumover, PDL::Ufunc defines methods that perform the same type of operations.
</p>
<table>
  <tr>
    <td>
      <b> Arithmetic </b>
    </td>
    <td>
      Method
    </td>
  </tr>
  <tr>
    <td>
      average
    </td>
    <td>
      average, daverage
    </td>
  </tr>
  <tr>
    <td>
      Median
    </td>
    <td>
      medover, medoddover
    </td>
  </tr>
  <tr>
    <td>
      Mode
    </td>
    <td>
      modeover
    </td>
  </tr>
  <tr>
    <td>
      product
    </td>
    <td>
      prodover, dprodover
    </td>
  </tr>
  <tr>
    <td>
      Cumulative product
    </td>
    <td>
      cumuprodover, dcumuprodover
    </td>
  </tr>
  <tr>
    <td>
      Cumulative total
    </td>
    <td>
      cumusumover, dcumusumover
    </td>
  </tr>
  <tr>
    <td>
      and operation
    </td>
    <td>
      andover
    </td>
  </tr>
  <tr>
    <td>
      or operation
    </td>
    <td>
      orover
    </td>
  </tr>
  <tr>
    <td>
      Bitwise and arithmetic
    </td>
    <td>
      bandover
    </td>
  </tr>
  <tr>
    <td>
      Bitwise or operation
    </td>
    <td>
      borover
    </td>
  </tr>
</table>
<h4>Example</h4>
<p>
  This is an example that can be executed.
</p>
<pre>
use strict;
use warnings;
use PDL;

my $data = pdl [
  [one two Three],
  [4, 5, 6],
  [7, 8, 9],
  [10, 11, 12]
];;

# Sum calculation to reduce one-dimensional rank
my $data_sumover1 = $data-&gt;sumover;
print "$data_sumover\n";

# Sum calculation to reduce 2D rank
my $data_sumover2 = $data-&gt;xchg(0, 1)-&gt;sumover;
print "$data_sumover2\n";
</pre>

  </div>
  <div class="bottom">
    <h3>Related Informatrion</h3>

<div style="margin:10px 10px;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

  </div>
</div>

        </div>
        <div class="side">
          
        </div>
      </div>
      <div class="footer">
        <div class="footer-services">
  <ul>
    <li><a rel="nofollow" href="/list.html">News</a></li>
    <li><a rel="nofollow" href="https://perlclub.net/en">Free Online Courses</a></li>
    <li><a rel="nofollow" href="https://twitter.com/perlzemien">Twitter</a>
  </ul>
</div>

<div class="perlri_link">
  <a rel="nofollow" href="https://perlclub.net/en">Perl Club</a>
</div>

      </div>
    </div>
  </body>
</html>
