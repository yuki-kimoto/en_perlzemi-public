<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<meta name="google-site-verification" content="4cR7WuQWEtkbu8ThfxGkT1vACiVi5Q_8ykfkRudOnTU" />

<link rel="shortcut icon" href="/images/logo.png">

<link rel="stylesheet" type="text/css" href="/css/common.css">
<script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>
<script>
  $(function(){
    // google code prettifyの有効化
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
    
    $(".to-top").click(function() {
      // ページの一番上までスクロールさせます。
      $('body, html').animate({scrollTop: 0}, 300, 'linear');;
    });
  });
</script>

<script type="text/javascript" language="javascript">
    var vc_pid = "886663612";
</script><script type="text/javascript" src="//aml.valuecommerce.com/vcdal.js" async></script>

<title> do-block that returns a value, load a script  - Perl Zemi|Perl Installation, Perl Tutorial, Many Examples</title>
<meta name="description" content="You can use  do  to create a block that returns the last evaluated value for block syntax. For string syntax, you can specify the name of the file and load the script.">
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@perlzemi" />
<meta name="twitter:title" content=" do-block that returns a value, load a script  - Perl Zemi|Perl Installation, Perl Tutorial, Many Examples" />
<meta name="twitter:description" content="You can use  do  to create a block that returns the last evaluated value for block syntax. For string syntax, you can specify the name of the file and load the script." />
<meta name="twitter:image" content="https://en.perlzemi.com//images/twitter_card_large_kaeru.png" />


  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">
  <h1>
    <a href="/"><img src="/images/logo.png">Perl Zemi</a>
  </h1>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    
  </div>
  <div class="middle">
    <ol class = "bread" itemscope itemtype = "http://schema.org/BreadcrumbList">
  <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
    <a itemprop="item" href="/">
      <span itemprop = "name"> Perl </ span> </a>
    <meta itemprop = "position" content = "1" />
  </ li>
  & # 8250;
  <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
    <a itemprop="item" href="/blog/20161022147731.html">
      <span itemprop = "name"> Syntax </ span> </a>
    <meta itemprop = "position" content = "2" />
  </ li>
  & # 8250;
  <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">
      <span itemprop = "name"> here </ span>
  </ li>
</ ol>
<h2><a href="/blog/20090208123289.html"> do-block that returns a value, load a script </a></ h2>
<p>
  You can use <b> do </ b> to create a block that returns the last evaluated value for block syntax. For string syntax, you can specify the name of the file and load the script.
</p>
<div style="width:calc(100% - 30px);margin:10px auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- 最初の段落下 - ディスプレイ 横長 レスポンシブ -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<pre>
# do block-a block that returns the last value
do {...};

# do string-load script
do $ file_name;
&lt;/ pre&gt;

Note that the block syntax and the string syntax have completely different functions. Let's take a closer look at each syntax.

&lt;h3&gt; Block that returns the last value --do block &lt;/ h3&gt;

You can use the &lt;b&gt; do block &lt;/ b&gt; to create a block that returns the last evaluated value.

&lt;pre&gt;
# do block
my $ value = do {
  1;
  2;
  3;
};
&lt;/ pre&gt;

If you write as above, 3 will be returned and 3 will be assigned to $ value.

There is no particular reason to use this syntax when programming normally, but it is customary to use this syntax if you want to read the contents of a file all at once.

&lt;h4&gt; Read the contents of the file at once &lt;/ h4&gt;

The following description allows you to read all the contents of a file at once.

&lt;pre&gt;
my $ content = do {local $ /; &lt;$ fh&gt;};
&lt;/ pre&gt;

A detailed explanation of this description is given below.

&lt;ul&gt;
  &lt;li&gt;
    &lt;a href="/blog/20180521152690.html"&gt; Read the entire contents of the file &lt;/a&gt;
  &lt;/ li&gt;
&lt;/ ul&gt;

local is explained in "&lt;a href="/blog/20080309120507.html"&gt; local --temporarily save and restore package variables &lt;/a&gt;".

&lt;h3&gt; Loading script --do string &lt;/ h3&gt;

You can use the &lt;b&gt; do string &lt;/ b&gt; syntax to read a file as Perl source code.

A common method is to write the configuration file in Perl and read it.

&lt;h4&gt; Write the configuration file in Perl &lt;/ h4&gt;

It is convenient to write the configuration file in Perl.

&lt;pre&gt;
my $ conf_file = "app.conf";
my $ conf = do $ conf_file
  or die qq / Can't load config file "$ conf_file": $! $ @ /;
&lt;/ pre&gt;

The contents of the configuration file.

&lt;pre&gt;
{
  name =&gt;'Foo',
  number =&gt; 9
}
&lt;/ pre&gt;

If the file is not read or parsed successfully, the undefined value will be returned. If the file name does not exist, $! Will be set, and if the Perl source code fails to load, $ @ will be set to the error content.

The configuration file can be written in XML or JSON, but it's easiest to write in Perl.

The do string syntax should only be used to load a script that describes the settings. If you want to load the module, use &lt;a href="/blog/20090205123287.html"&gt; use &lt;/a&gt; or &lt;a href="/blog/20090207123288.html"&gt; require &lt;/a&gt; ..

  </div>
  <div class="bottom">
    <h3>Related Informatrion</h3>

<div style="margin:10px 10px;">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

  </div>
</div>

        </div>
        <div class="side">
          <div class="side_list">
  <div class="side_list_body">
    <ul>
      <li>
        <div class="side_list_image">
        </div>
      </li>
    </ul>
  </div>
</div>

        </div>
      </div>
      <div class="footer">
        <div class="perlri_link">
  <a rel="nofollow" href="javascript:void(0)">Perl Club</a>
</div>

      </div>
    </div>
  </body>
</html>
