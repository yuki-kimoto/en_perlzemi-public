<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">

<meta name="google-site-verification" content="4cR7WuQWEtkbu8ThfxGkT1vACiVi5Q_8ykfkRudOnTU" />

<link rel="shortcut icon" href="/images/logo.png">
<link rel="stylesheet" type="text/css" href="/css/common.css"><script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>
<script>
  $(function(){
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
    
    $(".to-top").click(function() {
      $('body, html').animate({scrollTop: 0}, 300, 'linear');;
    });
  });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HVBGQBWKJ2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HVBGQBWKJ2');
</script>

<title>XML::Simple - Easy to parse XML - Perl ABC - Perl Installation, Perl Tutorial, Many Examples</title>
<meta name="description" content="The  XML::Simple  module allows you to easily parse XML and convert it into Perl data structures. "SAX that analyzes sequentially from the beginning" and "DOM that builds an XML tree structure" are famous as XML analysis methods, but XML::Simple is the best in terms of easy handling.">
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@perlzemi" />
<meta name="twitter:title" content="XML::Simple - Easy to parse XML - Perl ABC - Perl Installation, Perl Tutorial, Many Examples" />
<meta name="twitter:description" content="The  XML::Simple  module allows you to easily parse XML and convert it into Perl data structures. "SAX that analyzes sequentially from the beginning" and "DOM that builds an XML tree structure" are famous as XML analysis methods, but XML::Simple is the best in terms of easy handling." />
<meta name="twitter:image" content="https://en.perlzemi.com//images/twitter_card_large_kaeru.png" />


  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">
  <h1><a href="/"><img src="/images/logo.png">Perl ABC</a></h1>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    
  </div>
  <div class="middle">
    <ol class = "bread" itemscope itemtype = "http://schema.org/BreadcrumbList">  <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">    <a itemprop="item" href="/">        <span itemprop = "name">Perl </span></a>
    <meta itemprop = "position" content = "1" />
  </li>
  &#8250;
  <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">    <a itemprop="item" href="/blog/20091116124667.html">      <span itemprop = "name">Module </span></a>
    <meta itemprop = "position" content = "2" />
  </li>
  &#8250;
  <li>
    here
  </li>
</ol>
<h2><a href="/blog/20100424127089.html">XML::Simple - Easy to parse XML</a></h2>
<p>
  The <strong> XML::Simple </strong> module allows you to easily parse XML and convert it into Perl data structures. "SAX that analyzes sequentially from the beginning" and "DOM that builds an XML tree structure" are famous as XML analysis methods, but XML::Simple is the best in terms of easy handling.
</p>
<div style="width:calc(100% - 30px);margin:10px auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- 最初の段落下 - ディスプレイ 横長 レスポンシブ -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<p>
  XML is a common format for writing data in text files. It can be used when writing a program configuration file.
</p>
<pre>
# Load module and create object
use XML::Simple;
my $xml = XML::Simple-&gt;new;
</pre>
<p>
  Use the <strong> XMLin method </strong> to read the XML file. XML is transformed into Perl data structures (multidimensional hashes and arrays).
</p>
<pre>
# XML file parsing
my $data = $xml-&gt;XMLin('conf.xml');
</pre>
<p>
  This is an example XML of the configuration file. Imagine an application that edits multiple logs on multiple systems. Save the file in UTF-8.
</p>
<pre>
&lt;? xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;conf&gt;
  &lt;!-Version 1.01-&gt;
  &lt;!-Application home directory-&gt;  &lt;app-home-dir&gt; c:\apphome &lt;/app-home-dir&gt;

  &lt;!-Library directory-&gt;  &lt;lib-dir&gt; lib &lt;/lib-dir&gt;

  &lt;!-Directory to store logs-&gt;  &lt;log-dir&gt; log &lt;/log-dir&gt;

  &lt;!-System type-&gt;  &lt;system&gt; xxx yyy zzz &lt;/system&gt;

  &lt;!-Log type-&gt;  &lt;log-types&gt;
    &lt;cpu script = "parse_cpu.pl" from-dir = "raw/cpu" to-dir = "edit/cpu" /&gt;
    &lt;mem script = "parse_mem.pl" from-dir = "raw/mem" to-dir = "edit/mem" /&gt;
    &lt;gclog script = "parse_gclog.pl" from-dir = "raw/gclog" to-dir = "edit/gclog" /&gt;
  &lt;/log-types&gt;
&lt;/conf&gt;
</pre>
<p>
  This file is converted to the following data structure.
</p>
<p>
  ▼
</p>
<pre>
$conf = {
  'log-types' =&gt; {
    'cpu' =&gt; {
      'to-dir' =&gt;'edit/cpu',
      'script' =&gt;'parse_cpu.pl',
      'from-dir' =&gt;' raw/cpu'
    },
    'gclog' =&gt; {
      'to-dir' =&gt;'edit/gclog',
      'script' =&gt;'parse_gclog.pl',
      'from-dir' =&gt;' raw/gclog'
    },
    'mem' =&gt; {
      'to-dir' =&gt;'edit/mem',
      'script' =&gt;'parse_mem.pl',
      'from-dir' =&gt;' raw/mem'
    }
  },
  'system' =&gt;'xxx yyy zzz',
  'log-dir' =&gt;'log',
  'app-home-dir' =&gt;' c: \\apphome',
  'lib-dir' =&gt;'lib'
};
</pre>
<h3>Handling Japanese in XML::Simple</h3>
<p>
  When a string containing Japanese is read by XMLin, the character code specified by the encoding attribute of the XML declaration is converted to the decoded string. Note that it is not a byte string.
</p>
<pre>
&lt;? xml version = "1.0" encoding = "UTF-8"?&gt;
&lt;conf&gt;
  &lt;name&gt; Masuda &lt;/name&gt;
&lt;/conf&gt;
</pre>
<p>
  Since it is converted to an decoded string, if you want to output it, you need to convert it to a byte string using the encode function of the Encode module.
</p>
<pre>
# When outputting, convert from decoded string to byte string
use Encode 'encode';
my $conf = $xml-&gt;XMLin('japanese.xml');
print encode('UTF-8', $conf-&gt;{name});
</pre>
<h3>XML::Simple options</h3>
<p>
  XML::Simple allows you to specify options in the constructor arguments.
</p>
<pre>
# Option
my $xml = XML::Simple-&gt;new(ForceArray =&gt; 1);
</pre>
<p>
  The following two options may be used frequently.
</p>
<table>
  <tr>
    <td>
      <b> Option name </b>
    </td>
    <td>
      <b> Explanation </b>
    </td>
  </tr>
  <tr>
    <td>
      ForceArray
    </td>
    <td>
      Make sure nested elements are array reference
    </td>
  </tr>
  <tr>
    <td>
      KeyAttr
    </td>
    <td>
      Treat the specified attribute as a hash key
    </td>
  </tr>
</table>
<h3>XML::LibXML - Standard and fast XML parsing</h3>
<p>
  XML::Simple is not suitable for parsing complex XML. If you want to parse XML in a standard and fast way, you can choose the XML::LibXML module. XML::LibXML can read XML as a DOM tree. You can also access each element of XML using a method called XPath.
</p>
<p>
  This method requires more coding than XML::Simple and is technically difficult, but it is the best method for some requirements.
</p>
<h4>What to do if the XML::LibXML module cannot be installed on CentOS</h4>
<p>
  If the <strong> XML::LibXML </strong> module <strong> installation fails </strong> on CentOS, the <b> libxml2-devel </b> package is missing and you should install it.
</p>
<pre>
yum -y install libxml2-devel
</pre>

  </div>
  <div class="bottom">
    <h3>Related Informatrion</h3>

<div style="margin:10px 10px;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

  </div>
</div>

        </div>
        <div class="side">
          <div style="margin-bottom:30px">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<!-- ディスプレイ縦長 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="4544919209"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div class="side_list">
  <div class="side_list_body">
    <ul>
      <li>
        <div class="side_list_image">
          <a rel="nofollow" href="/list.html">New Articles</a><br>
          <a rel="nofollow" href="https://twitter.com/perlzemien">Updated Articles</a>
        </div>
      </li>
    </ul>
  </div>
</div>

        </div>
      </div>
      <div class="footer">
        <div class="perlri_link">
  <a rel="nofollow" href="https://perlclub.net/en">Perl Club</a>
</div>

      </div>
    </div>
  </body>
</html>
