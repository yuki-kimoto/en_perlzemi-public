<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">

<meta name="google-site-verification" content="4cR7WuQWEtkbu8ThfxGkT1vACiVi5Q_8ykfkRudOnTU" />

<link rel="shortcut icon" href="/images/logo.png">
<link rel="stylesheet" type="text/css" href="/css/common.css"><script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
<link  type="text/css" rel="stylesheet" href="/js/google-code-prettify/prettify.css"/>
<script>
  $(function(){
    // google code prettifyの有効化
    $("pre").addClass("prettyprint");
    function init(event){
      prettyPrint();
    }
    if(window.addEventListener)window.addEventListener("load",init,false);
    else if(window.attachEvent)window.attachEvent("onload",init);
    
    $(".to-top").click(function() {
      // ページの一番上までスクロールさせます。
      $('body, html').animate({scrollTop: 0}, 300, 'linear');;
    });
  });
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JDYCKHXVT5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JDYCKHXVT5');
</script>

<title>Iterative processing using for/while statement - Perl Zemi|Perl Installation, Perl Tutorial, Many Examples</title>
<meta name="description" content="Learn about Perl's iterative syntax. Learning the iterative syntax greatly expands the range of programs.">
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@perlzemi" />
<meta name="twitter:title" content="Iterative processing using for/while statement - Perl Zemi|Perl Installation, Perl Tutorial, Many Examples" />
<meta name="twitter:description" content="Learn about Perl's iterative syntax. Learning the iterative syntax greatly expands the range of programs." />
<meta name="twitter:image" content="https://en.perlzemi.com//images/twitter_card_large_kaeru.png" />


  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="header_main">  <h1>    <a href="/"><img src="/images/logo.png">Perl Zemi</a>
</h1>
</div>

      </div>
      <div class="main">
        <div class="content">
          <div class="entry">
  <div class="top">
    
  </div>
  <div class="middle">
    <ol class = "bread" itemscope itemtype = "http://schema.org/BreadcrumbList">  <li itemprop = "itemListElement" itemscope itemtype = "http://schema.org/ListItem">    <a itemprop="item" href="/">        <span itemprop = "name">Perl </span></a>
    <meta itemprop = "position" content = "1" />
  </li>
  &#8250;
  <li>
    <span itemprop = "name">here </span></a>
  </li>
</ol>
<h2><a href="/blog/20170521149524.html">Iterative processing using for/while statement</a></h2>
<p>
  Learn about Perl's iterative syntax. Learning the iterative syntax greatly expands the range of programs.
</p>
<div style="width:calc(100% - 30px);margin:10px auto;">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
       crossorigin="anonymous"></script>
  <!-- 最初の段落下 - ディスプレイ 横長 レスポンシブ -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4525414114581084"
       data-ad-slot="2828858335"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<h3>Basics of for statement</h3>
<p>
  First, I will explain the iterative syntax <b> for statement </b>. Take a look at the following example first. This is a program that outputs a number from 0 to 9 on the screen.
</p>
<pre>
for (my $i = 0; $i &lt; 10; $i++) {
  print "$i\n";
}
</pre>
<p>
  The output result of this is as follows. The number from 0 to 9 is output.
</p>
<pre>
0
1
2
3
Four
Five
6
7
8
9
</pre>
<p>
  Let's explain the syntax in order. for statement has the following syntax.
</p>
<pre>
for (Initialization of loop variable; Condition to loop; Update of loop variable) {
  ...
}
</pre>
<h4>1. Initialization of loop variable</h4>
<p>
  The first part is the initialization of the loop variable. This part determines what value the loop variable starts with first. Think of a loop variable as a variable used within a loop.
</p>
<p>
  Let's look at the first example again. Notice the part "my $i = 0".
</p>
<pre>
for (my $i = 0; $i &lt; 10; $i++) {
  print "$i\n";
}
</pre>
<p>
  In the initialization part of the loop variable, variable declarations can be made at the same time. We declare a variable called "$i" and initialize it with "0".
</p>
<p>
  What if this part is "my $i = 5"?
</p>
<pre>
for (my $i = 5; $i &lt; 10; $i++) {...}
</pre>
<p>
  Since "$i" is initialized with "5", the output result will be as follows.
</p>
<pre>
Five
6
7
8
9
</pre>
<h4>2. Looping conditions</h4>
<p>
  Now let's look at the conditions for looping.
</p>
<pre>
for (Initialization of loop variable; Condition to loop; Update of loop variable) {
  ...
}
</pre>
<p>
  for statement repeatedly executes the block while the looping condition is met. Looking at the first example, the condition is that "$i" is less than "10".
</p>
<pre>
for (my $i = 0; $i &lt; 10; $i++) {
  print "$i\n";
}
</pre>
<p>
  So the block will be executed while "$i" is less than "10".
</p>
<p>
  What if this part is "$i < 7"?
</p>
<pre>
for (my $i = 0; $i &lt; 7; $i++) {...}
</pre>
<p>
  The output result is as follows. Since "$i" loops while it is less than "7", you can see that it is output up to "6".
</p>
<pre>
0
1
2
3
Four
Five
6
</pre>
<h4>3. Update loop variable</h4>
<p>
  Finally, I will explain the update part of the loop variable.
</p>
<pre>
for (Initialization of loop variable; Condition to loop; Update of loop variable) {
  ...
}
</pre>
<p>
  In the loop variable update part, you can change the value of the loop variable before executing the next block.
</p>
<pre>
for (my $i = 0; $i &lt; 10; $i++) {
  print "$i\n";
}
</pre>
<p>
  In the first example, it is written as "$i++". This is called <a href="/blog/20180224151948.html">increment</a> and you can increment the value of $i by 1.
</p>
<p>
  The value of "$i" is incremented by 1 before proceeding to the next loop. In other words, each time you go through the loop, it will increase to "1", "2", "3".
</p>
<p>
  What if this part is "$i += 2"? This is <a href="/blog/20161005147566.html">special assignment operator</a> that allows you to increment the value of "$i" by "2".
</p>
<pre>
for (my $i = 0; $i &lt; 10; $i += 2) {
  print "$i\n";
}
</pre>
<p>
  The output will be as follows, as it will increase by two.
</p>
<pre>
0
2
Four
6
8
</pre>
<p>
  Make sure you are looping from "0" to "2" and less than "10".
</p>
<h3>For statement example program</h3>
<p>
  I think that the iterative syntax will be easier to understand if you actually run some examples.
</p>
<h4>Output from "9" to "0" for the first time</h4>
<p>
  Next, let's look at a program that outputs from "9" to "0" for the first time.
</p>
<pre>
for (my $i = 9; $i &gt;= 0; $i- ) {
  print "$i\n";
}
</pre>
<p>
  Since it is initialized as "my $i = 9", "$i" starts with "9". Since the condition is "$i >= 0", it is repeated when "$i" is "0 or more". The final "$i- " decrements the value of "$i" by one before moving on to the next loop. "-" Is <a href="/blog/20180226151973.html">decrement operator</a> that decrements the value of a variable by "1".
</p>
<p>
  The output result is as follows.
</p>
<pre>
9
8
7
6
Five
Four
3
2
1
0
</pre>
<h4>Output from "9" to "1" for the first time by skipping two</h4>
<p>
  Next, I will skip two and output from "9" to "1".
</p>
<pre>
for (my $i = 9; $i &gt;= 0; $i-= 2) {
  print "$i\n";
}
</pre>
<p>
  Since the update part of the loop variable is "$i-= 2", the value of "$i" is reduced by "2" before entering the next loop.
</p>
<p>
  The output result is as follows.
</p>
<pre>
9
7
Five
3
1
</pre>
<h4>Combining for and if statement</h4>
<p>
  Let's combine for statement and if statement. Programming will improve when you can combine for and if statement.
</p>
<p>
  I will write an example program that loops from "0" to "10", but outputs only when the loop variable is a multiple of 3.
</p>
<pre>
for (my $i = 0; $i &lt; 10; $i++) {
  if ($i % 3 == 0) {
    print "$i\n";
  }
}
</pre>
<p>
  Please pay attention to the conditional branch part using if statement. You can confirm that "$i" is a multiple of "3" by writing "$i % 3 == 0". This is because if the remainder after dividing by "3" is "0", that number is a multiple of 3.
</p>
<p>
  Please refer to the following articles for the modulo operator.
</p>
<ul>
  <li>
    <a href="/blog/20080910122105.html">Operators that perform numerical calculations</a>
  </li>
</ul>
<p>
  Since if statement block is executed only when it is a multiple of 3, the output result is as follows.
</p>
<pre>
0
3
6
9
</pre>
<p>
  Combining if and for statement gives you better control over your program. Please refer to the following article for a detailed explanation of if statement.
</p>
<ul>
  <li>
    <a href="/blog/20161023147731.html">Learn the syntax of conditional branch using if statement</a>
  </li>
</ul>
<h3>while statement</h3>
<p>
  Next, let's learn about <a href="/blog/20100123126425.html">while statement</a>. while statement is a syntax for looping like for statement.
</p>
<p>
  The difference from for statement is that while statement has only the "looping condition" part. Take a look at the following example.
</p>
<pre>
my $i = 0;

while ($i &lt; 10) {
  
  print "$i\n";
  
  $i++;
}
</pre>
<p>
  When this is executed, the number from "0" to "9" will be output to the screen.
</p>
<pre>
0
1
2
3
Four
Five
6
7
8
9
</pre>
<p>
  The part "$i < 10" is the part of the condition that loops in while statement. Unlike for statement, while statement does not have an initialization part or a loop variable update part.
</p>
<pre>
while (condition to loop) {...}
</pre>
<p>
  The "Initialize loop variable" and "Update loop variable" parts must be written as Perl statement.
</p>
<pre>
# Initialization of loop variable
my $i = 0;

while ($i &lt; 10) {
  
  print "$i\n";
  
  # Update loop variable
  $i++;
}
</pre>
<p>
  The above while statement example corresponds to the following for statement.
</p>
<pre>
for (my $i = 0; $i &lt; 10; $i++) {
  print "$i\n";
}
</pre>
<p>
  for statement is simpler to write. If you need a loop variable, for statement is easier to write.
</p>
<h3>foreach statement</h3>
<p>
  The <b> foreach statement </b> can be used to process the elements of <a href="/blog/20161012147627.html">array</a> in sequence. Take a look at the following example program.
</p>
<pre>
my @animals = ('Cat', 'Dog', 'Mouse');

foreach my $animal (@animals) {
  print "$animal\n";
}
</pre>
<p>
  This is a program that outputs the elements of the array ('Cat', 'Dog', 'Mouse') in order. The output result is as follows.
</p>
<pre>
Cat
Dog
Mouse
</pre>
<h4>Same as for statement and foreach statement</h4>
<p>
  In Perl, foreach statement is an alias for for statement, and you can also write for where you should write foreach.
</p>
<pre>
my @animals = ('Cat', 'Dog', 'Mouse');

for my $animal (@animals) {
  print "$animal\n";
}
</pre>
<p>
  Looking at how to write Perl these days, I think I tend to always use for rather than foreach. I think it feels like it settles down on the shorter side.
</p>
<h4>Use with range operator</h4>It can also be used with <a href="/blog/20170520149523.html">range operator</a>.
<pre>
for my $num (3 .. 6) {
  print "$num\n";
}
</pre>
<h3>next statement</h3>
<p>
  You can use <a href="/blog/20170513149580.html">next statement</a> to jump to the beginning of the next iteration. Take a look at the following example program.
</p>
<pre>
my @nums = (3, 5, 6, 7);
for my $num (@nums) {
  if ($num == 5) {
    next;
  }
  print "$num\n";
}
</pre>
<p>
  The elements of the array (3, 5, 6, 7) are output, but only when "$num" is "5", it jumps to the beginning of the next iteration. The output result is as follows.
</p>
<pre>
3
6
7
</pre>
<p>
  Only when it is "5", the "print function" is not executed because it jumps to the beginning of the loop.
</p>
<h3>last statement</h3>
<p>
  You can use <a href="/blog/20170527149589.html">last statement</a> to end the iteration and escape for statement. Take a look at the following example program.
</p>
<pre>
my @nums = (3, 5, 6, 7);
for my $num (@nums) {
  if ($num == 6) {
    last;
  }
  print "$num\n";
}
</pre>
<p>
  It outputs the elements of the array (3, 5, 6, 7), but exits the loop when "$num" is "6". Therefore, the output result is as follows.
</p>
<pre>
3
Five
</pre>
<p>
  I introduced an example of combining with for here, but next and for can also be used in while statement.
</p>
<h3>Use for, while, and foreach properly</h3>
<p>
  I explained the syntax of the three iterations, but you may feel that "how do you actually use them properly?" Therefore, I will write a guideline for proper use.
</p>
<h4>First, think about whether you can write with foreach</h4>
<p>
  First of all, think about whether you can write using foreach. Foreach is the easiest way to write a loop, so if foreach is enough, use foreach. It's common to process the elements of an array in sequence, but you can write this in foreach.
</p>
<pre>
my @animals = ('Cat', 'Dog', 'Mouse');

foreach my $animal (@animals) {
  print "$animal\n";
}
</pre>
<p>
  Or write as follows using the alias for.
</p>
<pre>
my @animals = ('Cat', 'Dog', 'Mouse');

for my $animal (@animals) {
  print "$animal\n";
}
</pre>
<p>
  First, consider whether you can write this way.
</p>
<h4>When an index is required, a normal for statement</h4>
<p>
  Next, suppose you may need the index. In that case, use the normal for statement. The following example program outputs the indexes and array elements. Note that you can get the length of the array by evaluating "@animals" in a scalar context.
</p>
<pre>
my @animals = ('Cat', 'Dog', 'Mouse');

for (my $i = 0; $i &lt; @animals; $i++) {
  my $animal = $animals[$i];
  print "$i: $animal\n";
}
</pre>
<p>
  The output result is as follows.
</p>
<pre>
0: Cat
1: Dog
2: Mouse
</pre>
<h4>While statement for repetition that does not increase the index</h4>
<p>
  Finally, use while statement if the repetition does not increase the index. Here are some common examples.
</p>
<p>
  <b> 1. Read a line from a file </b>
</p>
<p>
  Use while statement to read a line from a file.
</p>
<pre>
while (my $line = &lt;&gt;) {
  print $line;
}
</pre>
<p>
  File I/O is explained in detail below.
</p>
<ul>
  <li>
    <a href="/blog/20110212130370.html">Basics of file input/output</a>
  </li>
</ul>
<p>
  <b> 2. Pop an array </b>
</p>
<p>
  Use while statement to write the process such as ending when the array is extracted using the pop function and disappears.
</p>
<pre>
my @animals = ('Cat', 'Dog', 'Mouse');

while (my $animal = pop @animals) {
  print "$animal\n";
}
</pre>
<p>
  The output result is as follows.
</p>
<pre>
Mouse
Dog
Cat
</pre>
<p>
  When popped and emptied, the loop ends.
</p>
<p>
  <b> 3. I want to write an infinite loop </b>
</p>
<p>
  If you want to write an infinite loop, use while statement. If the condition is set to 1, while statement will continue to be executed.
</p>
<pre>
while (1) {
  # process
}
</pre>
<p>
  Use last if you want to get out of an infinite loop when some condition is met.
</p>
<pre>
while (1) {
  # process
  
  if ($flag) {
    last;
  }
}
</pre>
<h3>Multidimensional data structures and iterations</h3>
<p>
  Finally, I will write a multidimensional data structure and a repetitive example program. In Perl, we often use a data structure called an array of hashes, so I'll write an example of it.
</p>
<pre>
# Hash array example program
my $students = [
  {name =&gt;'kimoto', age =&gt; 36},
  {name =&gt;'kana', age =&gt; 21},
  {name =&gt;'jiro', age =&gt; 56}
];;

for my $student (@$students) {
  my $name = $student-&gt;{name};
  my $age = $student-&gt;{age};
  
  print "Name: $name, Age: $age\n";
}
</pre>
<p>
  The output result is as follows.
</p>
<pre>
Name: kimoto, Age: 36
Name: kana, Age: 21
Name: jiro, Age: 56
</pre>
<p>
  Here, "[]", "{}", "@$students", and "$student->{name}" that have never been explained have appeared. This is a Perl syntax called a reference. The processing of multidimensional data structures is explained in detail below, so please refer to it.
</p>
<ul>
  <li>
    <a href="/blog/20100930127859.html">References and multidimensional data structures</a>
  </li>
</ul>
<h3>Functions for writing loops easily</h3>
<h4>grep function</h4>
<p>
  Perl has <a href="/blog/20100119126425.html">grep function</a> that allows you to retrieve only matching elements of an array.
</p>
<pre>
my @matches = grep {$_ &gt; 5} @values;
</pre>
<p>
  This is the same as writing the following in for statement, but more concisely.
</p>
<pre>
my @matches;
for my $value (@$values) {
  if ($value &gt; 5) {
    push @matches, $value;
  }
}
</pre>
<h4>map function</h4>
<p>
  Perl has <a href="/blog/20100118126425.html">map function</a> that makes it easy to write transformations of all array elements.
</p>
<pre>
my @values2 = map {"$_. Txt"} @values1;
</pre>
<p>
  This is the same as writing the following in for statement, but more concisely.
</p>
<pre>
my @values2;
for my $value1 (@values1) {
  my $value2 = "$value1.txt";
  push @values2, $value2;
}
</pre>
<h3>Postfix for - for modifier</h3>
<p>
  A special for syntax is the for modifier, which allows you to put a for after a statement. If you can write for statement in one line, this writing method is also simple.
</p>
<p>
  Below is an example that outputs all the elements of the array. The elements of the array are sequentially assigned to the default argument "$_".
</p>
<pre>
my @values = (3, 4, 5);
print "$_\n" for @values;
</pre>
<p>
  For readability, it's a good idea to always use a regular for statement.
</p>
<p>
  But in fact, the postfix for has a clear advantage. That is, the <b> postfix for does not create a scope, so it performs better than a normal for </b>.
</p>
<p>
  Performance shouldn't be an issue for most programs you write in your day-to-day business. However, if you can execute it in one line and you really want to gain speed, you should use the postfix for.
</p>

  </div>
  <div class="bottom">
    <h3>Related Informatrion</h3>

<div style="margin:10px 10px;"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="autorelaxed"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="9163995495"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

  </div>
</div>

        </div>
        <div class="side">
          <div style="margin-bottom:30px">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4525414114581084"
     crossorigin="anonymous"></script>
<!-- ディスプレイ縦長 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-4525414114581084"
     data-ad-slot="4544919209"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div class="side_list">
  <div class="side_list_body">
    <ul>
      <li>
        <div class="side_list_image">
          <a rel="nofollow" href="/list.html">New Articles</a><br>
          <a rel="nofollow" href="https://twitter.com/perlzemien">Updated Articles</a>
        </div>
      </li>
    </ul>
  </div>
</div>

        </div>
      </div>
      <div class="footer">
        <div class="perlri_link">  <a rel="nofollow" href="javascript:void(0)">Perl Club</a>
</div>

      </div>
    </div>
  </body>
</html>
